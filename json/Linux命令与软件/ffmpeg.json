{"data":{},"__content":"<pre><code class=\"language-bash\"># 转换视频格式\nffmpeg -i test.avi test.mp4\n\nffmpeg -i test.avi -c:v [video encoder] test.mp4\n\n# 默认提贡的编码\nffmpeg -i test.avi -c:v libx264 test.mp4\n# 如果使用的nvida显示 ,可以硬件加速\nffmpeg -i test.avi -c:v h264_nvenc  test.mp4\n\n# 转换音频格式\nffmpeg -i sound.wav sound.mp3\n\n\nffmpeg -i test.avi -c:v libx264 -preset [xxx] test.mp4\n# 编码速度,-&gt; 文件大小 - 编码时间 反比\nultrafast\nsuperfast\nverfast\nfaster\nmedium\nslow\nslower\nveryslow\n\n-crf 控制图像质量 0-51 越大越差,文件越小\n\n-filter 过滤器,可以管道\n-vf &quot;scale=1024:576&quot; 指定视频尺寸\n-vf &quot;scale=1024:-1&quot;  -1 表示自动推算,等比例\n-vf &quot;scale=1024:-2&quot;  -2 表示推算偶数,\n-vf &quot;scale=-1:720&quot;  表示 转成 720p\n\n# 旋转视频\n-vf &quot;transpose=2&quot;\n具体去文档 : https://ffmpeg,org.ffmpeg-filters.html#toc-transpose-1\n\n-vf &quot;scale=256:256,transpose=1&quot; 组合\n\n裁剪\ncrop=400:400:100:100\ncrop=w:h:x:y\n\n也可以是一个表达式\ncrop=iw/3:ih/3\niw -&gt; input width\n</code></pre>\n<h2 id=\"%E4%BB%80%E4%B9%88%E6%98%AF%E8%A7%86%E9%A2%91%E6%A0%BC%E5%BC%8F\" tabindex=\"-1\">什么是视频格式</h2>\n<p>格式 -&gt; container\n编码</p>\n<ul>\n<li>h265 有更高的压缩率</li>\n<li>vp9</li>\n</ul>\n<h2 id=\"%E5%89%AA%E5%88%87%E4%B8%8E%E5%90%88%E5%B9%B6\" tabindex=\"-1\">剪切与合并</h2>\n<p>剪切</p>\n<p>需要放到<code>-i</code>参数的后面</p>\n<ul>\n<li>起始参数:<code>-ss 00:00:03</code></li>\n<li>结束参数:<code>-t 00:00:05</code> 或<code>-t 5</code></li>\n</ul>\n<p>合并</p>\n<p>把所有的文件放在一个文件内</p>\n<pre><code class=\"language-plaintext\">file 'clip1.mp4'\nfile 'clip2.mp4'\nfile 'clip3.mp4'\nfile 'clip3.mp4'\n</code></pre>\n<pre><code class=\"language-bash\">ffmpeg -f concat -i mylist.txt -c copy output.mp4\n</code></pre>\n<h2 id=\"%E9%9F%B3%E9%A2%91%E8%BF%87%E6%BB%A4%E5%99%A8\" tabindex=\"-1\">音频过滤器</h2>\n<pre><code class=\"language-plaintext\">-af &quot;volume=1.5&quot; 音量大小\nloundnorm 统一视频的音量\n</code></pre>\n<p>创建一个无声的视频,删除视频的音轨</p>\n<pre><code class=\"language-bash\">-an 删除音轨\n-vn 删除视频轨\n-sn 删除字幕轨\n-dn 删除数据流\n</code></pre>\n<h2 id=\"%E5%85%B6%E5%AE%83%E6%8A%80%E5%B7%A7\" tabindex=\"-1\">其它技巧</h2>\n<p>创建视频缩略图</p>\n<pre><code class=\"language-bash\">ffmpeg -i test.mp4 -vf &quot;fps=1/10,scale=-2:720&quot; thumbnail-%03d.jpg\n</code></pre>\n<p>添加水印</p>\n<pre><code class=\"language-bash\">ffmpeg -i test.mp4 -i cat.jpg -filter_complex &quot;overlay=100:100&quot; output.mp4\n</code></pre>\n<p>屏幕录制</p>\n<h2 id=\"%E8%B5%84%E6%BA%90\" tabindex=\"-1\">资源</h2>\n<ul>\n<li>【FFmpeg 最最强大的视频工具 (转码/压缩/剪辑/滤镜/水印/录屏/Gif/...)-哔哩哔哩】 <a href=\"https://b23.tv/bsNvLCe\">https://b23.tv/bsNvLCe</a></li>\n<li>【【FFmpeg 分P教学】转码、压制、录屏、裁切、合并、提取 … 统统不是问题。-哔哩哔哩】 <a href=\"https://b23.tv/IHcKZqu\">https://b23.tv/IHcKZqu</a></li>\n</ul>\n"}