{"data":{"_id":"Hk4qs-J6Q","title":"web学习笔记-css,图片分离","date":"2018-11-06 20:40","update":"2018-11-06 20:40","series":"webpack学习笔记","categories":["学习笔记"],"tags":["网页前端"]},"__content":"<h2 id=\"%E5%B8%8C%E6%9C%9B\" tabindex=\"-1\">希望</h2>\n<p>原来的所有的css,png,js都打包成了一个文件<code>bundle.js</code></p>\n<h2 id=\"%E5%88%86%E7%A6%BBcss\" tabindex=\"-1\">分离css</h2>\n<p>使用<code>extract-text-webpack-plugin</code></p>\n<p><strong>安装</strong></p>\n<pre><code class=\"language-bash\">cnpm i extract-text-webpack-plugin --save-dev\n</code></pre>\n<p><strong>使用</strong></p>\n<pre><code class=\"language-javascript\">\nconst ExtractTextPlugin = require('extract-text-webpack-plugin');\n\n</code></pre>\n<p>i```javascript\nmodules:{\nrules:[\n{\ntest: /.styl$/,\nuse: ExtractTextPlugin.extract({\nuse: [ 'css-loader', 'stylus-loader' ],\npublicPath:'../' //解决css图片中的路径问题\n})\n//loader: 'style-loader!css-loader!stylus-loader'\n},\n]\n},\nplugins:[\n//都提到dist目录下的css目录中,文件名是index.css里面\nnew ExtractTextPlugin('css/index.css')\n]</p>\n<pre><code>\n## css的图片背景,分离图片\n\n要使用`file-loader 和url-loader`\n\n**下载**\n```bash\ncnmp i file-loader url-loader --save-dev\n</code></pre>\n<p><code>webpack.config.js</code></p>\n<pre><code class=\"language-javascript\">\n    modules:{\n    rules:[\n            {\n                test:/\\.(png|jpg|gif)$/,\n                use:[{\n                    loader:'url-loader',\n                    options:{ // 这里的options选项参数可以定义多大的图片转换为base64\n                        limit:16*1024, // 表示小于16kb的图片转为base64,大于50kb的是路径\n                        outputPath:'images', //定义输出的图片文件夹\n                        name:'[name].[ext]'\n                    }\n                }]\n            }\n        ]\n    }\n</code></pre>\n<h2 id=\"%E5%8F%82%E8%80%83\" tabindex=\"-1\">参考</h2>\n<ul>\n<li><a href=\"https://blog.csdn.net/xyphf/article/details/79830002\">https://blog.csdn.net/xyphf/article/details/79830002</a></li>\n<li><a href=\"https://medium.com/@petrefax66/i-believe-you-need-to-use-the-next-version-in-your-package-json-9a6922adf295\">https://medium.com/@petrefax66/i-believe-you-need-to-use-the-next-version-in-your-package-json-9a6922adf295</a></li>\n</ul>\n"}