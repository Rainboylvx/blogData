{"data":{"_id":"BytZDCF9X","title":"require的使用的思考","date":"2018-10-09 15:22","update":"2018-10-09 15:22","series":"研究思考","categories":["nodejs","研究思考"],"tags":["研究思考"]},"__content":"<h2 id=\"require%E7%9A%84%E7%A0%94%E7%A9%B6\" tabindex=\"-1\">require的研究</h2>\n<p>我们创建3个文件</p>\n<ul>\n<li><code>a.js</code></li>\n</ul>\n<pre><code class=\"language-javascript\">var   a = function(){\n}\nmodule.exports = a\n</code></pre>\n<ul>\n<li><code>b.js</code></li>\n</ul>\n<pre><code class=\"language-javascript\">var a = require(&quot;./a.js&quot;)\n\na.extent = function(){\n    console.log(&quot;a extent&quot;)\n}\n\nmodule.exports = a.extent\n</code></pre>\n<ul>\n<li><code>main.js</code></li>\n</ul>\n<pre><code class=\"language-javascript\">var aa = require(&quot;./a.js&quot;)\nrequire(&quot;./b.js&quot;)\nconsole.log(aa)\naa.extent()\n</code></pre>\n<p>然后执行:</p>\n<pre><code class=\"language-sh\">node main.js\n</code></pre>\n<p>输出结果是:</p>\n<pre><code class=\"language-sh\">{ [Function: a] extent: [Function] }\na extent\n</code></pre>\n<h2 id=\"%E7%BB%93%E8%AE%BA\" tabindex=\"-1\">结论</h2>\n<ul>\n<li>每个文件只加载一次</li>\n<li>如果再次使用<code>require</code>加载,只会引用这个已经加载过的内存</li>\n<li>修改也是修改这个加载过的内存的内容</li>\n</ul>\n"}