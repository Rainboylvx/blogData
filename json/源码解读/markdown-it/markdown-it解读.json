{"data":{"_id":"8f7051ce40","title":"markdown-it解读","date":"2022-07-22 23:25","update":"2022-07-22 23:25","author":"Rainboy","video":"","titleEmojiTag":":tv:","cover":null,"tags":["tag1"],"catalog":"catalog1"},"__content":"<h2 id=\"%E7%9B%B8%E5%85%B3%E8%B5%84%E6%96%99\" tabindex=\"-1\">相关资料</h2>\n<ul>\n<li><a href=\"https://www.markdownguide.org/basic-syntax\"> markdown 语法规则 | Basic Syntax | Markdown Guide</a></li>\n<li><a href=\"https://github.com/theniceangel/markdown-it-analysis/\">markdown-it-analysis</a></li>\n<li><a href=\"https://juejin.cn/post/6844903921555603470\">markdown-it源码分析1-整体流程 - 掘金</a></li>\n<li><a href=\"https://juejin.cn/post/6844903638490415117\">深入浅出 VuePress（一）：如何做到在 Markdown 中使用 Vue 语法 - 掘金</a></li>\n</ul>\n<h2 id=\"%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B\" tabindex=\"-1\">解析过程</h2>\n<h3 id=\"1-%E4%B8%8B%E8%BD%BD%E6%BA%90%E7%A0%81\" tabindex=\"-1\">1 下载源码</h3>\n<pre><code class=\"language-bash\">git clone https://github.com/markdown-it/markdown-it\n</code></pre>\n<p>基本使用</p>\n<pre><code class=\"language-javascript\">var md = require('markdown-it')();\nvar result = md.render('# markdown-it rulezz!');\n</code></pre>\n<p>理解</p>\n<pre><code class=\"language-plaintext\">              +---------+\n   md-string-&gt;|    md   | ---&gt; html-string\n              +---------+\n</code></pre>\n<p>那么<code>markdown-it</code>具体是如何解析<code>md string</code>的呢?</p>\n<p>入口文件:<code>lib/index.js</code></p>\n<p>1.怎么理解<code>this instanceof MarkdownIt</code>,查看这里\n<a href=\"https://blog.csdn.net/XH_jing/article/details/119726468\">从Vue源码学习JavaScript 之 this instanceof Vue</a></p>\n<p>MarkdownIt 传递的两个参数<code>presetName</code>,<code>options</code></p>\n<pre><code class=\"language-js\">//转成 html link\nthis.linkify = new LinkifyIt();\n//验证 [](this) 是不是一个 link\nthis.validateLink = validateLink;\n// encode link,such as url-encoding punycode\nthis.normalizeLink = normalizeLink;\n\n// decode 成一个 human-readable format\nthis.normalizeLinkText = normalizeLinkText;\n\n//工具与助手函数\n  this.utils = utils;\n\n  this.helpers = utils.assign({}, helpers);\n</code></pre>\n<p>MarkdownIt 原型上的一些方法。</p>\n<p>parse 字符串-&gt;token</p>\n<p>render, renderer.render's wrapper</p>\n<p>parseInline : only parser inline text -&gt; token\n|\nv\nrenderInline</p>\n"}