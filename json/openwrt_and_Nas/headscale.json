{"data":{},"__content":"<p><a href=\"https://www.dongvps.com/2022-09-02/%e5%bc%80%e6%ba%90%e7%89%88tailscale%ef%bc%8cheadscale%e6%90%ad%e5%bb%ba/\">开源版tailscale，headscale搭建 - DongVPS</a>\n<a href=\"https://icloudnative.io/posts/how-to-set-up-or-migrate-headscale/\">Tailscale 基础教程：Headscale 的部署方法和使用教程 – 云原生实验室 - Kubernetes|Docker|Istio|Envoy|Hugo|Golang|云原生</a>\n首先需要到其 GitHub 仓库的 Release 页面下载最新版的二进制文件。</p>\n<pre><code class=\"language-bash\">$ wget --output-document=/usr/local/bin/headscale \\\n   https://github.com/juanfont/headscale/releases/download/v&lt;HEADSCALE VERSION&gt;/headscale_&lt;HEADSCALE VERSION&gt;_linux_&lt;ARCH&gt;\n\n$ chmod +x /usr/local/bin/headscale\n</code></pre>\n<p>准备</p>\n<pre><code>#创建配置目录：\nmkdir -p /etc/headscale\n\n#创建目录用来存储数据与证书：\nmkdir -p /var/lib/headscale\n\n#创建空的 SQLite 数据库文件：\ntouch /var/lib/headscale/db.sqlite\n\n#　从example 创建 Headscale 配置文件：\nwget https://github.com/juanfont/headscale/raw/main/config-example.yaml -O /etc/headscale/config.yaml\n</code></pre>\n<h2 id=\"%E4%BB%8Eopenwrt%E7%9A%84%E5%86%85%E7%BD%91%E8%AE%BF%E9%97%AEtailscale-%E8%8A%82%E7%82%B9\" tabindex=\"-1\">从openwrt的内网访问tailscale 节点</h2>\n<pre><code class=\"language-plaintext\">iptables -I FORWARD -i tailscale0 -j ACCEPT\niptables -I FORWARD -o tailscale0 -j ACCEPT\niptables -t nat -I POSTROUTING -o tailscale0 -j MASQUERADE\n</code></pre>\n<p>来自 <a href=\"https://www.youtube.com/watch?v=dXxpLz0BVvQ\">openwrt手动安装tailscale最新版 - YouTube</a></p>\n"}