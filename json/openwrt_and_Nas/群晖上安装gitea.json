{"data":{},"__content":"<p>这个是在ubuntu是手动安装gitea的视频</p>\n<p><a href=\"https://www.bilibili.com/video/BV1ZU4y1y7SP/?spm_id_from=333.337.search-card.all.click&amp;vd_source=a16e7d60ec30d7ca460e723941be155c\">[Gitea] Gitee不能用？手把手教你搭建git服务_哔哩哔哩_bilibili</a></p>\n<p>我查一下官方的docker安装方法</p>\n<p>先安装docker-compose<code>curl -sL xxx -o xxx</code></p>\n<pre><code>version: &quot;3&quot;\n\nnetworks:\n  gitea:\n    external: false\n\nservices:\n  server:\n    image: gitea/gitea:1.17.4\n    container_name: gitea\n    environment:\n      - USER_UID=1000\n      - USER_GID=1000\n      - GITEA__database__DB_TYPE=mysql\n      - GITEA__database__HOST=db:3306\n      - GITEA__database__NAME=gitea\n      - GITEA__database__USER=gitea\n      - GITEA__database__PASSWD=gitea\n    restart: always\n    networks:\n      - gitea\n    volumes:\n      # 这里要改\n      - /path/to/gitea:/data\n      # 这里要改,和原来的不一样\n      - /etc/TZ:/etc/timezone:ro\n      - /etc/localtime:/etc/localtime:ro\n    ports:\n      - &quot;4000:3000&quot;\n      - &quot;4222:22&quot;\n    depends_on:\n      - db\n\n  db:\n    image: mysql:8\n    restart: always\n    environment:\n      - MYSQL_ROOT_PASSWORD=gitea\n      - MYSQL_USER=gitea\n      - MYSQL_PASSWORD=gitea\n      - MYSQL_DATABASE=gitea\n    networks:\n      - gitea\n    volumes:\n      - /path/to/mysql:/var/lib/mysql\n</code></pre>\n<p>不知道为什么会有mysql的权限的问题,所以<code>chmod 777 /path/to/mysql</code></p>\n<p>再根据这个修改gitea的配置<a href=\"https://zhuanlan.zhihu.com/p/351649897\">Nas轻量git方案：Docker安装Gitea - 知乎</a></p>\n<p>输入 vi /synology/data/gitea/conf/app.ini进入修改配置</p>\n<pre><code>DOMAIN = \nSSH_DOMAIN =\nROOT_URL = \nservice]\nDISABLE REGISTRATION = true\nREQUIRE SIGNIN VIEW = true\n</code></pre>\n"}