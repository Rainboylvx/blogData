import{_ as s,j as n,g as a,I as l}from"./chunks/framework.6fa7194a.js";const A=JSON.parse('{"title":"cmake\u5B66\u4E60\u7B14\u8BB0\u4E00","description":"","frontmatter":{"_id":"H1qsteGkM","title":"cmake\u5B66\u4E60\u7B14\u8BB0\u4E00","date":"2017-11-10 22:05","update":"2018-09-11 10:01","series":"cmake\u5B66\u4E60\u7B14\u8BB0","categories":["\u5B66\u4E60\u7B14\u8BB0"],"tags":["linux","cmake"]},"headers":[{"level":2,"title":"\u5B89\u88C5cmake","slug":"\u5B89\u88C5cmake"},{"level":2,"title":"\u4F8B\u5B50\u4E00:\u6784\u5EFA\u4E00\u4E2A\u7ECF\u5178\u7684\u7A0B\u5E8F","slug":"\u4F8B\u5B50\u4E00-\u6784\u5EFA\u4E00\u4E2A\u7ECF\u5178\u7684\u7A0B\u5E8F"},{"level":2,"title":"\u4F8B\u5B501.1 \u67E5\u770B\u53D8\u91CF","slug":"\u4F8B\u5B501-1-\u67E5\u770B\u53D8\u91CF"},{"level":2,"title":"\u4F8B\u5B502: \u4E09\u4E2A\u6587\u4EF6\u7F16\u8BD1","slug":"\u4F8B\u5B502-\u4E09\u4E2A\u6587\u4EF6\u7F16\u8BD1"},{"level":2,"title":"\u4F8B\u5B503: hello.c \u7F16\u8BD1\u6210\u5E93","slug":"\u4F8B\u5B503-hello-c-\u7F16\u8BD1\u6210\u5E93"},{"level":2,"title":"cmake \u5173\u952E\u5B57","slug":"cmake-\u5173\u952E\u5B57"},{"level":2,"title":"\u4F8B\u5B504:","slug":"\u4F8B\u5B504"},{"level":2,"title":"\u4F8B\u5B505: \u751F\u6210\u7684\u76EE\u6807\u6587\u4EF6\u8F93\u51FA\u5230\u5BF9\u5E94\u7684\u76EE\u5F55","slug":"\u4F8B\u5B505-\u751F\u6210\u7684\u76EE\u6807\u6587\u4EF6\u8F93\u51FA\u5230\u5BF9\u5E94\u7684\u76EE\u5F55"},{"level":2,"title":"\u4F8B\u5B506:\u52A8\u6001\u5E93","slug":"\u4F8B\u5B506-\u52A8\u6001\u5E93"},{"level":2,"title":"\u4F8B\u5B507:Debug \u548C Release","slug":"\u4F8B\u5B507-debug-\u548C-release"},{"level":2,"title":"\u76F8\u5173\u8D44\u6599","slug":"\u76F8\u5173\u8D44\u6599"}],"relativePath":"\u5B66\u4E60\u7B14\u8BB0/cmake\u5B66\u4E60\u7B14\u8BB0\u4E00.md"}'),e={name:"\u5B66\u4E60\u7B14\u8BB0/cmake\u5B66\u4E60\u7B14\u8BB0\u4E00.md"},p=l(`<h2 id="\u5B89\u88C5cmake" tabindex="-1">\u5B89\u88C5cmake <a class="header-anchor" href="#\u5B89\u88C5cmake" aria-hidden="true">#</a></h2><p><code>arch linux</code>\u4E0B\u5B89\u88C5</p><div class="language-sh line-numbers-mode"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">pacman -S make</span></span>
<span class="line"><span style="color:#A6ACCD;">pacman -S cmake</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u4E0B\u9762\u6309<a href="https://wenku.baidu.com/view/473211985ef7ba0d4b733b1d.html" target="_blank" rel="noreferrer">cmake \u4ECE\u5165\u95E8\u5230\u7C97\u901A</a>\u5B66\u4E60\u4E00\u904D</p><p>\u6211\u5B66\u4E60\u7684\u4EE3\u7801\u653E\u5728:<a href="https://github.com/rainboy-learn/cmake" target="_blank" rel="noreferrer">git-cmake\u7EC3\u4E60\u4EE3\u7801</a></p><h2 id="\u4F8B\u5B50\u4E00-\u6784\u5EFA\u4E00\u4E2A\u7ECF\u5178\u7684\u7A0B\u5E8F" tabindex="-1">\u4F8B\u5B50\u4E00:\u6784\u5EFA\u4E00\u4E2A\u7ECF\u5178\u7684\u7A0B\u5E8F <a class="header-anchor" href="#\u4F8B\u5B50\u4E00-\u6784\u5EFA\u4E00\u4E2A\u7ECF\u5178\u7684\u7A0B\u5E8F" aria-hidden="true">#</a></h2><div class="language-c line-numbers-mode"><button class="copy"></button><span class="lang">c</span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">cstdio</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">printf</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello world</span><span style="color:#A6ACCD;">\\n</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u521B\u5EFA\u4E00\u4E2A<code>CMakeLists.txt</code></p><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">project(HELLO)</span></span>
<span class="line"><span style="color:#A6ACCD;">set(SRC_LIST main.cpp)</span></span>
<span class="line"><span style="color:#A6ACCD;">add_executable(hello \${SRC_LIST})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u6267\u884C</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">mkdir build</span></span>
<span class="line"><span style="color:#A6ACCD;">cmake ..</span></span>
<span class="line"><span style="color:#A6ACCD;">make</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u521B\u5EFA<code>hello</code>\u7A0B\u5E8F\u6210\u529F,<code>add_executable($1,$2)</code> \u5E94\u8BE5\u6DFB\u52A0\u4E00\u4E2A\u7F16\u8BD1\u6587\u4EF6</p><h2 id="\u4F8B\u5B501-1-\u67E5\u770B\u53D8\u91CF" tabindex="-1">\u4F8B\u5B501.1 \u67E5\u770B\u53D8\u91CF <a class="header-anchor" href="#\u4F8B\u5B501-1-\u67E5\u770B\u53D8\u91CF" aria-hidden="true">#</a></h2><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">project(HELLO)</span></span>
<span class="line"><span style="color:#A6ACCD;">set(SRC_LIST main.cpp)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"># \u8F93\u51FA\u53D8\u91CF</span></span>
<span class="line"><span style="color:#A6ACCD;">message(&quot;can you see me ?&quot;)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">message(\${HELLO_BINARY_DIR})</span></span>
<span class="line"><span style="color:#A6ACCD;">message(\${HELLO_SOURCE_DIR})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">message(\${PROJECT_BINARY_DIR})</span></span>
<span class="line"><span style="color:#A6ACCD;">message(\${PROJECT_SOURCE_DIR})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">#add_executable(hello \${SRC_LIST})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>\u6267\u884C\u540E\u53EF\u4EE5\u770B\u5230\u53D8\u91CF\u8F93\u51FA</p><ul><li>set \u8BBE\u7F6E\u53D8\u91CF</li><li>add_executable \u751F\u6210\u4E00\u4E2A\u53EF\u6267\u884C\u6587\u4EF6</li><li>add_library \u751F\u6210\u4E00\u4E2A\u5E93\u6587\u4EF6</li><li>message \u8F93\u51FA\u4FE1\u606F</li><li><code>set( CMAKE_VERBOSE_MAKEFILE on)</code> \u8F93\u51FA\u66F4\u8BE6\u7EC6\u7684\u4FE1\u606F</li></ul><h2 id="\u4F8B\u5B502-\u4E09\u4E2A\u6587\u4EF6\u7F16\u8BD1" tabindex="-1">\u4F8B\u5B502: \u4E09\u4E2A\u6587\u4EF6\u7F16\u8BD1 <a class="header-anchor" href="#\u4F8B\u5B502-\u4E09\u4E2A\u6587\u4EF6\u7F16\u8BD1" aria-hidden="true">#</a></h2><p><code>hello.h</code></p><div class="language-c line-numbers-mode"><button class="copy"></button><span class="lang">c</span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">#ifndef</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_HELLO_</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#define</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">_HELLO_</span></span>
<span class="line"><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">hello</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">char</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#endif</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>hello.cpp</code></p><div class="language-c line-numbers-mode"><button class="copy"></button><span class="lang">c</span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">cstdio</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">hello</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">char</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">printf</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hello %s!</span><span style="color:#A6ACCD;">\\n</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>main.cpp</code></p><div class="language-c line-numbers-mode"><button class="copy"></button><span class="lang">c</span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">cstdio</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">hello</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rainboy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u624B\u52A8\u7F16\u8BD1</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">mkdir handle_build</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># \u751F\u6210 .o \u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">g++ -c hello.cpp -o handle_build/hello.o</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># \u751F\u6210 lib\u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">ar crv handle_build/libhello.a handle_build/hello.o</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># \u751F\u6210 \u76EE\u6807\u7A0B\u5E8F</span></span>
<span class="line"><span style="color:#A6ACCD;">g++ main.cpp handle_build/libhello.a -o handle_build/hello</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u5EFA\u7ACB<code>CMakeLists.txt</code></p><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">project(HELLO)</span></span>
<span class="line"><span style="color:#A6ACCD;">set(SRC_LIST main.cpp hello.cpp)</span></span>
<span class="line"><span style="color:#A6ACCD;">add_executable(hello \${SRC_LIST})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="\u4F8B\u5B503-hello-c-\u7F16\u8BD1\u6210\u5E93" tabindex="-1">\u4F8B\u5B503: hello.c \u7F16\u8BD1\u6210\u5E93 <a class="header-anchor" href="#\u4F8B\u5B503-hello-c-\u7F16\u8BD1\u6210\u5E93" aria-hidden="true">#</a></h2><p>\u624B\u52A8</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">mkdir handle_build</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># \u751F\u6210 .o \u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">g++ -c hello.cpp -o handle_build/hello.o</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># \u751F\u6210 lib\u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">ar crv handle_build/libhello.a handle_build/hello.o</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># \u751F\u6210 \u76EE\u6807\u7A0B\u5E8F</span></span>
<span class="line"><span style="color:#A6ACCD;">g++ main.cpp handle_build/libhello.a -o handle_build/hello</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">project(HELLO)</span></span>
<span class="line"><span style="color:#A6ACCD;">set(lib_src hello.cpp)</span></span>
<span class="line"><span style="color:#A6ACCD;">set(app_src main.cpp)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">add_library(libhello \${lib_src})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">add_executable(hello \${app_src})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">target_link_libraries(hello libhello)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="cmake-\u5173\u952E\u5B57" tabindex="-1">cmake \u5173\u952E\u5B57 <a class="header-anchor" href="#cmake-\u5173\u952E\u5B57" aria-hidden="true">#</a></h2><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">cmake_minimum_required      \u6CE8\u610F\u6700\u5C0F\u7684\u9700\u8981\u7684cmake\u7248\u672C</span></span>
<span class="line"><span style="color:#A6ACCD;">project                     \u8BBE\u7F6E\u9879\u76EE\u540D,\u4E3B\u8981\u4F5C\u7528\u662F\u53EF\u4EE5\u6539\u53D8&lt;projectname&gt;_bin_path \u7B49\u53D8\u91CF</span></span>
<span class="line"><span style="color:#A6ACCD;">set                         \u8BBE\u7F6E\u53D8\u91CF</span></span>
<span class="line"><span style="color:#A6ACCD;">configure_file ()           ??</span></span>
<span class="line"><span style="color:#A6ACCD;">include_directories()       \u5305\u542B\u7684\u5934\u6587\u4EF6\u76EE\u5F55 \u76F8\u5F53\u4E8E -I</span></span>
<span class="line"><span style="color:#A6ACCD;">add_executable()            \u751F\u6210\u7684\u76EE\u6807\u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">target_link_libraries()     \u751F\u6210\u7684\u76EE\u6807\u6587\u4EF6 \u8981\u548C\u54EA\u4E9B\u5E93 \u94FE\u63A5</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="\u4F8B\u5B504" tabindex="-1">\u4F8B\u5B504: <a class="header-anchor" href="#\u4F8B\u5B504" aria-hidden="true">#</a></h2><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C\u2500\u2500 CMakeLists.txt</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C\u2500\u2500 lib</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502\xA0\xA0 \u251C\u2500\u2500 CMakeLists.txt</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502\xA0\xA0 \u251C\u2500\u2500 hello.cpp</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502\xA0\xA0 \u2514\u2500\u2500 hello.h</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2514\u2500\u2500 src</span></span>
<span class="line"><span style="color:#A6ACCD;">    \u251C\u2500\u2500 CMakeLists.txt</span></span>
<span class="line"><span style="color:#A6ACCD;">    \u2514\u2500\u2500 main.cpp</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u9876\u5C42\u7684 CMakeList.txt \u6587\u4EF6\u4E2D\u4F7F\u7528 add_subdirectory \u544A\u8BC9 cmake \u53BB\u5B50\u76EE\u5F55\u5BFB\u627E\u65B0\u7684 CMakeList.txt \u5B50\u6587\u4EF6<br> \u5728 src \u7684 CMakeList.txt \u6587\u4EF6\u4E2D\uFF0C\u65B0\u589E\u52A0\u4E86 include_directories\uFF0C\u7528\u6765\u6307\u660E\u5934\u6587\u4EF6\u6240\u5728\u7684\u8DEF\u5F84</p><h2 id="\u4F8B\u5B505-\u751F\u6210\u7684\u76EE\u6807\u6587\u4EF6\u8F93\u51FA\u5230\u5BF9\u5E94\u7684\u76EE\u5F55" tabindex="-1">\u4F8B\u5B505: \u751F\u6210\u7684\u76EE\u6807\u6587\u4EF6\u8F93\u51FA\u5230\u5BF9\u5E94\u7684\u76EE\u5F55 <a class="header-anchor" href="#\u4F8B\u5B505-\u751F\u6210\u7684\u76EE\u6807\u6587\u4EF6\u8F93\u51FA\u5230\u5BF9\u5E94\u7684\u76EE\u5F55" aria-hidden="true">#</a></h2><p>\u5982\u679C\u60F3\u8BA9\u53EF\u6267\u884C\u6587\u4EF6\u5728 bin \u76EE\u5F55\uFF0C\u5E93\u6587\u4EF6\u5728 lib \u76EE\u5F55\u600E\u4E48\u529E</p><p>\u4FEE\u6539\u4F8B\u5B504:</p><p>\u5728<code>lib/CMakeLists.txt</code>\u52A0\u5165</p><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">set(LIBRARY_OUTPUT_PATH \${PROJECT_BINARY_DIR}/lib)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u5728<code>src/CMakeLists.txt</code>\u52A0\u5165</p><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">set(EXECUTABLE_OUTPUT_PATH \${PROJECT_BINARY_DIR}/bin)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>**\u539F\u7406:**\u8FD9\u91CC\u4E3B\u8981\u662F\u4FEE\u6539\u4E86\u4E24\u4E2A\u9ED8\u8BA4\u7684\u53D8\u91CF<code>LIBRARY_OUTPUT_PATH,EXECUTABLE_OUTPUT_PATH</code></p><h2 id="\u4F8B\u5B506-\u52A8\u6001\u5E93" tabindex="-1">\u4F8B\u5B506:\u52A8\u6001\u5E93 <a class="header-anchor" href="#\u4F8B\u5B506-\u52A8\u6001\u5E93" aria-hidden="true">#</a></h2><p>\u5728\u4F8B\u5B50\u4E09\u81F3\u4E94\u4E2D\uFF0C\u6211\u4EEC\u59CB\u7EC8\u7528\u7684\u9759\u6001\u5E93\uFF0C\u90A3\u4E48\u7528\u52A8\u6001\u5E93\u5E94\u8BE5\u66F4\u9177\u4E00\u70B9\u5427\u3002 \u8BD5\u7740\u5199\u4E00\u4E0B \u5982 \u679C \u4E0D \u8003 \u8651 windows \u4E0B \uFF0C \u8FD9 \u4E2A \u4F8B \u5B50 \u5E94 \u8BE5 \u662F \u5F88 \u7B80 \u5355 \u7684 \uFF0C \u53EA \u9700 \u8981 \u5728 \u4E0A \u4E2A \u4F8B \u5B50 \u7684 libhello/CMakeList.txt \u6587\u4EF6\u4E2D\u7684 add_library \u547D\u4EE4\u4E2D\u52A0\u5165\u4E00\u4E2A SHARED \u53C2\u6570\uFF1A add_library(libhello SHARED \${LIB_SRC})</p><p>\u7565!</p><h2 id="\u4F8B\u5B507-debug-\u548C-release" tabindex="-1">\u4F8B\u5B507:Debug \u548C Release <a class="header-anchor" href="#\u4F8B\u5B507-debug-\u548C-release" aria-hidden="true">#</a></h2><p>\u5177\u4F53\u53C2\u770Bgit\u4E0A\u7684<code>7/</code>\u6587\u4EF6\u4E0B\u7684<code>CMakeLists.txt</code></p><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">SET(CMAKE_CXX_FLAGS_DEBUG &quot;$ENV{CXXFLAGS} -O0 -Wall -g -ggdb&quot;)</span></span>
<span class="line"><span style="color:#A6ACCD;">SET(CMAKE_CXX_FLAGS_RELEASE &quot;$ENV{CXXFLAGS} -O3 -Wall&quot;)</span></span>
<span class="line"><span style="color:#A6ACCD;">SET(CMAKE_BUILD_TYPE Debug)</span></span>
<span class="line"><span style="color:#A6ACCD;"># \u8BBE\u7F6E\u8F93\u51FA\u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">message(\${CMAKE_CXX_COMPILER})</span></span>
<span class="line"><span style="color:#A6ACCD;">IF(\${CMAKE_BUILD_TYPE} STREQUAL Debug)</span></span>
<span class="line"><span style="color:#A6ACCD;">    MESSAGE(&quot;DEBUG-------------------&quot;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    set(EXECUTABLE_OUTPUT_PATH \${PROJECT_BINARY_DIR}/Debug)</span></span>
<span class="line"><span style="color:#A6ACCD;">ELSE()</span></span>
<span class="line"><span style="color:#A6ACCD;">    MESSAGE(&quot;Realse-------------------&quot;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    set(EXECUTABLE_OUTPUT_PATH \${PROJECT_BINARY_DIR}/Realse)</span></span>
<span class="line"><span style="color:#A6ACCD;">ENDIF()</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>\u4E0D\u4EC5\u53EF\u4EE5\u5728<code>CMakeLists.txt</code>\u91CC\u6539\u53D8<code>CMAKE_BUILD_TYPE</code>\u7684\u503C,\u4E5F\u53EF\u4EE5\u5728\u547D\u4EE4\u884C\u91CC\u6539\u53D8</p><div class="language-sh line-numbers-mode"><button class="copy"></button><span class="lang">sh</span><pre><code><span class="line"><span style="color:#A6ACCD;">cmake CMAKE_BUILD_TYPE=Debug</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="\u76F8\u5173\u8D44\u6599" tabindex="-1">\u76F8\u5173\u8D44\u6599 <a class="header-anchor" href="#\u76F8\u5173\u8D44\u6599" aria-hidden="true">#</a></h2><ul><li><a href="http://www.jianshu.com/p/6b7aabfbace0" target="_blank" rel="noreferrer">cmake \u5165\u95E8-CMake Tutorial</a></li><li><a href="https://wenku.baidu.com/view/473211985ef7ba0d4b733b1d.html" target="_blank" rel="noreferrer">cmake \u4ECE\u5165\u95E8\u5230\u7CBE\u901A</a></li><li><a href="http://www.jianshu.com/p/bbf68f9ddffa" target="_blank" rel="noreferrer">CMake\u7B80\u660E\u6559\u7A0B</a></li><li><a href="https://cmake.org/documentation/" target="_blank" rel="noreferrer">cmake \u5B98\u65B9\u6587\u6863</a></li><li><a href="https://wenku.baidu.com/view/27fdeb23168884868662d63a.html" target="_blank" rel="noreferrer">cmake \u624B\u518C\u8BE6\u89E3</a></li><li><a href="https://wenku.baidu.com/view/8fceba7eb9d528ea80c7797a.html" target="_blank" rel="noreferrer">cmake \u4E2D\u6587\u624B\u518C</a></li><li><a href="http://www.hahack.com/codes/cmake/" target="_blank" rel="noreferrer">CMake \u5165\u95E8\u5B9E\u6218</a></li></ul>`,54),c=[p];function r(o,i,t,b,d,u){return a(),n("div",null,c)}var m=s(e,[["render",r]]);export{A as __pageData,m as default};
