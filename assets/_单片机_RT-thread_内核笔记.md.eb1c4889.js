import{_ as s,j as n,g as a,I as l}from"./chunks/framework.6fa7194a.js";const _=JSON.parse('{"title":"rt-thread\u5185\u6838\u7B14\u8BB0","description":"","frontmatter":{"_id":"S1K0-21gS","title":"rt-thread\u5185\u6838\u7B14\u8BB0","date":"2019-06-25 22:39","update":"2019-06-25 22:39","series":"\u5355\u7247\u673A","categories":["\u5355\u7247\u673A"],"tags":["rt-thread","\u7B14\u8BB0"]},"headers":[{"level":2,"title":"7.\u4E34\u754C\u8D44\u6E90","slug":"_7-\u4E34\u754C\u8D44\u6E90"},{"level":3,"title":"\u4E34\u754C\u533A\u4FDD\u62A4\u793A\u4F8B","slug":"\u4E34\u754C\u533A\u4FDD\u62A4\u793A\u4F8B"},{"level":2,"title":"8.\u4FE1\u53F7\u91CF\u7684\u4F7F\u7528","slug":"_8-\u4FE1\u53F7\u91CF\u7684\u4F7F\u7528"},{"level":2,"title":"\u751F\u4EA7\u8005\u6D88\u8D39\u8005\u95EE\u9898","slug":"\u751F\u4EA7\u8005\u6D88\u8D39\u8005\u95EE\u9898"},{"level":2,"title":"\u4E92\u65A5\u91CF\u7684\u4F7F\u7528","slug":"\u4E92\u65A5\u91CF\u7684\u4F7F\u7528"}],"relativePath":"_\u5355\u7247\u673A/RT-thread/\u5185\u6838\u7B14\u8BB0.md"}'),e={name:"_\u5355\u7247\u673A/RT-thread/\u5185\u6838\u7B14\u8BB0.md"},p=l(`<h2 id="_7-\u4E34\u754C\u8D44\u6E90" tabindex="-1">7.\u4E34\u754C\u8D44\u6E90 <a class="header-anchor" href="#_7-\u4E34\u754C\u8D44\u6E90" aria-hidden="true">#</a></h2><p><strong>\u4E34\u754C\u8D44\u6E90</strong>:</p><p>\u5173\u95ED\u7CFB\u7EDF\u8C03\u5EA6</p><div class="language-c line-numbers-mode"><button class="copy"></button><span class="lang">c</span><pre><code><span class="line"><span style="color:#82AAFF;">rt_enter_critical</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">//\u5173\u95ED\u7CFB\u7EDF\u8C03\u5EA6</span></span>
<span class="line"><span style="color:#A6ACCD;">......</span></span>
<span class="line"><span style="color:#82AAFF;">rt_exit_critical</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">//\u8C03\u5EA6\u5668\u89E3\u9501</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u5173\u95ED\u4E2D\u65AD</p><div class="language-c line-numbers-mode"><button class="copy"></button><span class="lang">c</span><pre><code><span class="line"><span style="color:#A6ACCD;">level </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">rt_hw_inerrupt_disbale</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">......</span></span>
<span class="line"><span style="color:#82AAFF;">rt_exit_critical</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">//\u8C03\u5EA6\u5668\u89E3\u9501</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u5173\u95ED\u4E2D\u65AD</p><div class="language-c line-numbers-mode"><button class="copy"></button><span class="lang">c</span><pre><code><span class="line"><span style="color:#A6ACCD;">level </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">rt_hw_inerrupt_disbale</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">......</span></span>
<span class="line"><span style="color:#82AAFF;">rt_exit_critical</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">//\u8C03\u5EA6\u5668\u89E3\u9501</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u5173\u95ED\u4E2D\u65AD</p><div class="language-c line-numbers-mode"><button class="copy"></button><span class="lang">c</span><pre><code><span class="line"><span style="color:#A6ACCD;">level </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">rt_hw_inerrupt_disbale</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">......</span></span>
<span class="line"><span style="color:#82AAFF;">rt_hw_inerrupt_enbale</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u4E92\u65A5</p><h3 id="\u4E34\u754C\u533A\u4FDD\u62A4\u793A\u4F8B" tabindex="-1">\u4E34\u754C\u533A\u4FDD\u62A4\u793A\u4F8B <a class="header-anchor" href="#\u4E34\u754C\u533A\u4FDD\u62A4\u793A\u4F8B" aria-hidden="true">#</a></h3><h2 id="_8-\u4FE1\u53F7\u91CF\u7684\u4F7F\u7528" tabindex="-1">8.\u4FE1\u53F7\u91CF\u7684\u4F7F\u7528 <a class="header-anchor" href="#_8-\u4FE1\u53F7\u91CF\u7684\u4F7F\u7528" aria-hidden="true">#</a></h2><p>\u8FDB/\u7EBF\u7A0B\u95F4\u7684\u901A\u4FE1</p><p>IPC</p><ul><li>\u540C\u6B65</li><li>\u4E92\u65A5</li><li>\u4EA4\u6362\u6570\u636E</li></ul><div class="language-c line-numbers-mode"><button class="copy"></button><span class="lang">c</span><pre><code><span class="line"><span style="color:#C792EA;">struct</span><span style="color:#A6ACCD;"> rt_semaphore </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> rt_ipc_object parent</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">rt_uint16_t</span><span style="color:#F07178;"> value</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-c line-numbers-mode"><button class="copy"></button><span class="lang">c</span><pre><code><span class="line"><span style="color:#FFCB6B;">rt_sem_t</span><span style="color:#A6ACCD;"> dynamic_sem    \u52A8\u6001</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\u6307\u9488</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u64CD\u4F5C</p><ul><li>\u521D\u59CB\u5316/\u8131\u79BB</li><li>\u521B\u5EFA/\u5220\u9664</li><li>\u83B7\u53D6\u4FE1\u53F7\u91CF</li><li>\u91CA\u653E\u4FE1\u53F7\u91CF</li></ul><h2 id="\u751F\u4EA7\u8005\u6D88\u8D39\u8005\u95EE\u9898" tabindex="-1">\u751F\u4EA7\u8005\u6D88\u8D39\u8005\u95EE\u9898 <a class="header-anchor" href="#\u751F\u4EA7\u8005\u6D88\u8D39\u8005\u95EE\u9898" aria-hidden="true">#</a></h2><p>\u793A\u4F8B\u4EE3\u7801:</p><div class="language-c line-numbers-mode"><button class="copy"></button><span class="lang">c</span><pre><code><span class="line"><span style="color:#82AAFF;">rt_sem_init</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#82AAFF;">rt_sem_init</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#82AAFF;">rt_sem_init</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="\u4E92\u65A5\u91CF\u7684\u4F7F\u7528" tabindex="-1">\u4E92\u65A5\u91CF\u7684\u4F7F\u7528 <a class="header-anchor" href="#\u4E92\u65A5\u91CF\u7684\u4F7F\u7528" aria-hidden="true">#</a></h2><p>IPC\u5BF9\u8C61</p><p>\u4E8C\u503C\u4FE1\u53F7\u91CF</p><div class="language-c line-numbers-mode"><button class="copy"></button><span class="lang">c</span><pre><code><span class="line"><span style="color:#C792EA;">struct</span><span style="color:#A6ACCD;"> mutex </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">rt_uint16_t</span><span style="color:#F07178;"> value</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">rt_uint8_t</span><span style="color:#F07178;"> original_priority</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">rt_uint8_t</span><span style="color:#F07178;"> hold</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> rt_thread </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">ower</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>\u521D\u59CB\u5316/\u8131\u79BB <ul><li><code>rt_mutex_init</code></li><li><code>rt_mutex_detach</code></li></ul></li><li>\u521B\u5EFA/\u5220\u9664 <ul><li><code>rt_mutex_create</code></li><li><code>rt_mutex_delate</code></li></ul></li><li>\u83B7\u53D6 <ul><li><code>rt_mutex_take</code></li></ul></li><li>\u91CA\u653E <ul><li><code>rt_mutex_release</code></li></ul></li></ul><p>\u793A\u4F8B:<code>mutex_sample.c</code></p>`,29),r=[p];function c(t,o,i,d,u,F){return a(),n("div",null,r)}var b=s(e,[["render",c]]);export{_ as __pageData,b as default};
